{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport { ref, computed, onMounted } from 'vue';\nimport DashboardLayout from '../components/DashboardLayout.vue';\nimport TicketChart from '../components/TicketChart.vue';\nexport default {\n  __name: 'AnalyticsPage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const tickets = ref([]);\n    const currentUser = ref({});\n    onMounted(() => {\n      const user = localStorage.getItem('currentUser');\n      if (user) {\n        currentUser.value = JSON.parse(user);\n      }\n      const allTickets = JSON.parse(localStorage.getItem('tickets') || '[]');\n      tickets.value = allTickets.filter(t => t.userId === currentUser.value.id);\n    });\n    const trendData = [{\n      day: 'Mon',\n      tickets: 12\n    }, {\n      day: 'Tue',\n      tickets: 19\n    }, {\n      day: 'Wed',\n      tickets: 15\n    }, {\n      day: 'Thu',\n      tickets: 25\n    }, {\n      day: 'Fri',\n      tickets: 22\n    }, {\n      day: 'Sat',\n      tickets: 8\n    }, {\n      day: 'Sun',\n      tickets: 5\n    }];\n    const statusData = computed(() => {\n      const total = tickets.value.length || 1;\n      return [{\n        status: 'Open',\n        count: tickets.value.filter(t => t.status === 'open').length,\n        percentage: Math.round(tickets.value.filter(t => t.status === 'open').length / total * 100)\n      }, {\n        status: 'In Progress',\n        count: tickets.value.filter(t => t.status === 'in-progress').length,\n        percentage: Math.round(tickets.value.filter(t => t.status === 'in-progress').length / total * 100)\n      }, {\n        status: 'Closed',\n        count: tickets.value.filter(t => t.status === 'closed').length,\n        percentage: Math.round(tickets.value.filter(t => t.status === 'closed').length / total * 100)\n      }];\n    });\n    const __returned__ = {\n      tickets,\n      currentUser,\n      trendData,\n      statusData,\n      ref,\n      computed,\n      onMounted,\n      DashboardLayout,\n      TicketChart\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","DashboardLayout","TicketChart","tickets","currentUser","user","localStorage","getItem","value","JSON","parse","allTickets","filter","t","userId","id","trendData","day","statusData","total","length","status","count","percentage","Math","round"],"sources":["C:/Users/Tunmise Babalola/Desktop/HNG/HNG Stage 2 task/ticketflow-with-vue/src/pages/AnalyticsPage.vue"],"sourcesContent":["<template>\r\n  <DashboardLayout>\r\n    <div class=\"p-8\">\r\n      <h1 class=\"text-3xl font-bold text-slate-100 mb-8\">Analytics</h1>\r\n\r\n      <div class=\"grid md:grid-cols-2 gap-6\">\r\n        <div\r\n          class=\"p-6 rounded-lg bg-[var(--card)] border border-[var(--border)]\"\r\n        >\r\n          <h2 class=\"text-xl font-bold text-slate-100 mb-4\">Ticket Trends</h2>\r\n          <TicketChart :data=\"trendData\" />\r\n        </div>\r\n\r\n        <div\r\n          class=\"p-6 rounded-lg bg-[var(--card)] border border-[var(--border)]\"\r\n        >\r\n          <h2 class=\"text-xl font-bold text-slate-100 mb-4\">\r\n            Status Distribution\r\n          </h2>\r\n          <div class=\"space-y-4\">\r\n            <div\r\n              v-for=\"item in statusData\"\r\n              :key=\"item.status\"\r\n              class=\"flex items-center justify-between\"\r\n            >\r\n              <span class=\"text-slate-300\">{{ item.status }}</span>\r\n              <div class=\"flex items-center gap-2\">\r\n                <div class=\"w-32 h-2 bg-slate-700 rounded-full overflow-hidden\">\r\n                  <div\r\n                    :style=\"{ width: item.percentage + '%' }\"\r\n                    class=\"h-full bg-blue-500\"\r\n                  />\r\n                </div>\r\n                <span class=\"text-slate-300 w-12 text-right\"\r\n                  >{{ item.percentage }}%</span\r\n                >\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </DashboardLayout>\r\n</template>\r\n\r\n<script setup lang=\"js\">\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport DashboardLayout from '../components/DashboardLayout.vue'\r\nimport TicketChart from '../components/TicketChart.vue'\r\n\r\nconst tickets = ref([])\r\nconst currentUser = ref({})\r\n\r\nonMounted(() => {\r\n  const user = localStorage.getItem('currentUser')\r\n  if (user) {\r\n    currentUser.value = JSON.parse(user)\r\n  }\r\n\r\n  const allTickets = JSON.parse(localStorage.getItem('tickets') || '[]')\r\n  tickets.value = allTickets.filter((t) => t.userId === currentUser.value.id)\r\n})\r\n\r\nconst trendData = [\r\n  { day: 'Mon', tickets: 12 },\r\n  { day: 'Tue', tickets: 19 },\r\n  { day: 'Wed', tickets: 15 },\r\n  { day: 'Thu', tickets: 25 },\r\n  { day: 'Fri', tickets: 22 },\r\n  { day: 'Sat', tickets: 8 },\r\n  { day: 'Sun', tickets: 5 }\r\n]\r\n\r\nconst statusData = computed(() => {\r\n  const total = tickets.value.length || 1\r\n  return [\r\n    {\r\n      status: 'Open',\r\n      count: tickets.value.filter(t => t.status === 'open').length,\r\n      percentage: Math.round((tickets.value.filter(t => t.status === 'open').length / total) * 100)\r\n    },\r\n    {\r\n      status: 'In Progress',\r\n      count: tickets.value.filter(t => t.status === 'in-progress').length,\r\n      percentage: Math.round((tickets.value.filter(t => t.status === 'in-progress').length / total) * 100)\r\n    },\r\n    {\r\n      status: 'Closed',\r\n      count: tickets.value.filter(t => t.status === 'closed').length,\r\n      percentage: Math.round((tickets.value.filter(t => t.status === 'closed').length / total) * 100)\r\n    }\r\n  ]\r\n})\r\n</script>\r\n"],"mappings":";;AA8CA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,KAAK;AAC9C,OAAOC,eAAe,MAAM,mCAAmC;AAC/D,OAAOC,WAAW,MAAM,+BAA+B;;;;;;;IAEvD,MAAMC,OAAO,GAAGL,GAAG,CAAC,EAAE,CAAC;IACvB,MAAMM,WAAW,GAAGN,GAAG,CAAC,CAAC,CAAC,CAAC;IAE3BE,SAAS,CAAC,MAAM;MACd,MAAMK,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;MAChD,IAAIF,IAAI,EAAE;QACRD,WAAW,CAACI,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACL,IAAI,CAAC;MACtC;MAEA,MAAMM,UAAU,GAAGF,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC;MACtEJ,OAAO,CAACK,KAAK,GAAGG,UAAU,CAACC,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,MAAM,KAAKV,WAAW,CAACI,KAAK,CAACO,EAAE,CAAC;IAC7E,CAAC,CAAC;IAEF,MAAMC,SAAS,GAAG,CAChB;MAAEC,GAAG,EAAE,KAAK;MAAEd,OAAO,EAAE;IAAG,CAAC,EAC3B;MAAEc,GAAG,EAAE,KAAK;MAAEd,OAAO,EAAE;IAAG,CAAC,EAC3B;MAAEc,GAAG,EAAE,KAAK;MAAEd,OAAO,EAAE;IAAG,CAAC,EAC3B;MAAEc,GAAG,EAAE,KAAK;MAAEd,OAAO,EAAE;IAAG,CAAC,EAC3B;MAAEc,GAAG,EAAE,KAAK;MAAEd,OAAO,EAAE;IAAG,CAAC,EAC3B;MAAEc,GAAG,EAAE,KAAK;MAAEd,OAAO,EAAE;IAAE,CAAC,EAC1B;MAAEc,GAAG,EAAE,KAAK;MAAEd,OAAO,EAAE;IAAE,CAAC,CAC3B;IAED,MAAMe,UAAU,GAAGnB,QAAQ,CAAC,MAAM;MAChC,MAAMoB,KAAK,GAAGhB,OAAO,CAACK,KAAK,CAACY,MAAM,IAAI,CAAC;MACvC,OAAO,CACL;QACEC,MAAM,EAAE,MAAM;QACdC,KAAK,EAAEnB,OAAO,CAACK,KAAK,CAACI,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACQ,MAAM,KAAK,MAAM,CAAC,CAACD,MAAM;QAC5DG,UAAU,EAAEC,IAAI,CAACC,KAAK,CAAEtB,OAAO,CAACK,KAAK,CAACI,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACQ,MAAM,KAAK,MAAM,CAAC,CAACD,MAAM,GAAGD,KAAK,GAAI,GAAG;MAC9F,CAAC,EACD;QACEE,MAAM,EAAE,aAAa;QACrBC,KAAK,EAAEnB,OAAO,CAACK,KAAK,CAACI,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACQ,MAAM,KAAK,aAAa,CAAC,CAACD,MAAM;QACnEG,UAAU,EAAEC,IAAI,CAACC,KAAK,CAAEtB,OAAO,CAACK,KAAK,CAACI,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACQ,MAAM,KAAK,aAAa,CAAC,CAACD,MAAM,GAAGD,KAAK,GAAI,GAAG;MACrG,CAAC,EACD;QACEE,MAAM,EAAE,QAAQ;QAChBC,KAAK,EAAEnB,OAAO,CAACK,KAAK,CAACI,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACQ,MAAM,KAAK,QAAQ,CAAC,CAACD,MAAM;QAC9DG,UAAU,EAAEC,IAAI,CAACC,KAAK,CAAEtB,OAAO,CAACK,KAAK,CAACI,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACQ,MAAM,KAAK,QAAQ,CAAC,CAACD,MAAM,GAAGD,KAAK,GAAI,GAAG;MAChG,CAAC,CACF;IACH,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}