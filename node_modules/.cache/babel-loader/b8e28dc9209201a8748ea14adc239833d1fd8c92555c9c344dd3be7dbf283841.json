{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useToast } from \"./useToast\";\nimport { useRouter } from \"vue-router\";\nimport { ERROR_MESSAGES } from \"../utils/errorMessages\";\nexport function useErrorHandler() {\n  const {\n    addToast\n  } = useToast();\n  const router = useRouter();\n  const handleError = (error, options = {}) => {\n    const message = error?.message || ERROR_MESSAGES.GENERIC_ERROR;\n    if (options.showToast) {\n      addToast(message, \"error\");\n    }\n    console.error(\"[v0] Error:\", error);\n  };\n  const handleSessionExpired = () => {\n    localStorage.removeItem(\"authToken\");\n    localStorage.removeItem(\"currentUser\");\n    addToast(ERROR_MESSAGES.AUTH_SESSION_EXPIRED, \"error\");\n    router.push(\"/login\");\n  };\n  return {\n    handleError,\n    handleSessionExpired\n  };\n}","map":{"version":3,"names":["useToast","useRouter","ERROR_MESSAGES","useErrorHandler","addToast","router","handleError","error","options","message","GENERIC_ERROR","showToast","console","handleSessionExpired","localStorage","removeItem","AUTH_SESSION_EXPIRED","push"],"sources":["C:/Users/Tunmise Babalola/Desktop/HNG/HNG Stage 2 task/ticketflow-with-vue/src/composables/useErrorHandler.js"],"sourcesContent":["import { useToast } from \"./useToast\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { ERROR_MESSAGES } from \"../utils/errorMessages\";\r\n\r\nexport function useErrorHandler() {\r\n  const { addToast } = useToast();\r\n  const router = useRouter();\r\n\r\n  const handleError = (error, options = {}) => {\r\n    const message = error?.message || ERROR_MESSAGES.GENERIC_ERROR;\r\n    if (options.showToast) {\r\n      addToast(message, \"error\");\r\n    }\r\n    console.error(\"[v0] Error:\", error);\r\n  };\r\n\r\n  const handleSessionExpired = () => {\r\n    localStorage.removeItem(\"authToken\");\r\n    localStorage.removeItem(\"currentUser\");\r\n    addToast(ERROR_MESSAGES.AUTH_SESSION_EXPIRED, \"error\");\r\n    router.push(\"/login\");\r\n  };\r\n\r\n  return { handleError, handleSessionExpired };\r\n}\r\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,YAAY;AACrC,SAASC,SAAS,QAAQ,YAAY;AACtC,SAASC,cAAc,QAAQ,wBAAwB;AAEvD,OAAO,SAASC,eAAeA,CAAA,EAAG;EAChC,MAAM;IAAEC;EAAS,CAAC,GAAGJ,QAAQ,CAAC,CAAC;EAC/B,MAAMK,MAAM,GAAGJ,SAAS,CAAC,CAAC;EAE1B,MAAMK,WAAW,GAAGA,CAACC,KAAK,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;IAC3C,MAAMC,OAAO,GAAGF,KAAK,EAAEE,OAAO,IAAIP,cAAc,CAACQ,aAAa;IAC9D,IAAIF,OAAO,CAACG,SAAS,EAAE;MACrBP,QAAQ,CAACK,OAAO,EAAE,OAAO,CAAC;IAC5B;IACAG,OAAO,CAACL,KAAK,CAAC,aAAa,EAAEA,KAAK,CAAC;EACrC,CAAC;EAED,MAAMM,oBAAoB,GAAGA,CAAA,KAAM;IACjCC,YAAY,CAACC,UAAU,CAAC,WAAW,CAAC;IACpCD,YAAY,CAACC,UAAU,CAAC,aAAa,CAAC;IACtCX,QAAQ,CAACF,cAAc,CAACc,oBAAoB,EAAE,OAAO,CAAC;IACtDX,MAAM,CAACY,IAAI,CAAC,QAAQ,CAAC;EACvB,CAAC;EAED,OAAO;IAAEX,WAAW;IAAEO;EAAqB,CAAC;AAC9C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}