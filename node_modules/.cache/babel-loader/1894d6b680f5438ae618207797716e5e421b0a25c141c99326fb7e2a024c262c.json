{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"min-h-screen bg-[var(--background)] text-[var(--foreground)] flex flex-col\"\n};\nconst _hoisted_2 = {\n  class: \"flex-1 flex items-center justify-center px-6 py-12\"\n};\nconst _hoisted_3 = {\n  class: \"w-full max-w-md\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"text-red-500 text-sm mt-1\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"text-red-500 text-sm mt-1\"\n};\nconst _hoisted_6 = [\"disabled\"];\nconst _hoisted_7 = {\n  class: \"text-center text-[var(--muted-foreground)] mt-6\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[6] || (_cache[6] = _createElementVNode(\"div\", {\n    class: \"text-center mb-8\"\n  }, [_createElementVNode(\"h1\", {\n    class: \"text-3xl font-bold text-[var(--primary)] mb-2\"\n  }, \" TicketFlow \"), _createElementVNode(\"p\", {\n    class: \"text-[var(--muted-foreground)]\"\n  }, \"Sign in to your account\")], -1 /* CACHED */)), _createElementVNode(\"form\", {\n    onSubmit: _withModifiers($setup.handleLogin, [\"prevent\"]),\n    class: \"space-y-4\"\n  }, [_createElementVNode(\"div\", null, [_cache[2] || (_cache[2] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-[var(--foreground)] mb-2\"\n  }, \"Email\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.email = $event),\n    type: \"email\",\n    class: \"w-full px-4 py-2 bg-[var(--card)] text-[var(--foreground)] rounded-lg border border-[var(--border)] focus:border-[var(--primary)] focus:outline-none\",\n    placeholder: \"you@example.com\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.email]]), $setup.errors.email ? (_openBlock(), _createElementBlock(\"p\", _hoisted_4, _toDisplayString($setup.errors.email), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", null, [_cache[3] || (_cache[3] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-[var(--foreground)] mb-2\"\n  }, \"Password\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.password = $event),\n    type: \"password\",\n    class: \"w-full px-4 py-2 bg-[var(--card)] text-[var(--foreground)] rounded-lg border border-[var(--border)] focus:border-[var(--primary)] focus:outline-none\",\n    placeholder: \"••••••••\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.password]]), $setup.errors.password ? (_openBlock(), _createElementBlock(\"p\", _hoisted_5, _toDisplayString($setup.errors.password), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"button\", {\n    type: \"submit\",\n    disabled: $setup.isLoading,\n    class: \"w-full px-4 py-2 bg-[var(--primary)] text-[var(--primary-foreground)] rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50\"\n  }, _toDisplayString($setup.isLoading ? \"Signing in...\" : \"Sign In\"), 9 /* TEXT, PROPS */, _hoisted_6)], 32 /* NEED_HYDRATION */), _createElementVNode(\"p\", _hoisted_7, [_cache[5] || (_cache[5] = _createTextVNode(\" Don't have an account? \", -1 /* CACHED */)), _createVNode(_component_router_link, {\n    to: \"/signup\",\n    class: \"text-[var(--primary)] hover:underline\"\n  }, {\n    default: _withCtx(() => [...(_cache[4] || (_cache[4] = [_createTextVNode(\"Sign up\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })])])]), _createVNode($setup[\"AppFooter\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","onSubmit","_withModifiers","$setup","handleLogin","email","$event","type","placeholder","errors","_hoisted_4","_toDisplayString","password","_hoisted_5","disabled","isLoading","_hoisted_6","_hoisted_7","_createVNode","_component_router_link","to","_cache"],"sources":["C:\\Users\\Tunmise Babalola\\Desktop\\HNG\\HNG Stage 2 task\\ticketflow-with-vue\\src\\pages\\LoginPage.vue"],"sourcesContent":["<template>\r\n  <div\r\n    class=\"min-h-screen bg-[var(--background)] text-[var(--foreground)] flex flex-col\"\r\n  >\r\n    <div class=\"flex-1 flex items-center justify-center px-6 py-12\">\r\n      <div class=\"w-full max-w-md\">\r\n        <div class=\"text-center mb-8\">\r\n          <h1 class=\"text-3xl font-bold text-[var(--primary)] mb-2\">\r\n            TicketFlow\r\n          </h1>\r\n          <p class=\"text-[var(--muted-foreground)]\">Sign in to your account</p>\r\n        </div>\r\n\r\n        <form @submit.prevent=\"handleLogin\" class=\"space-y-4\">\r\n          <div>\r\n            <label\r\n              class=\"block text-sm font-medium text-[var(--foreground)] mb-2\"\r\n              >Email</label\r\n            >\r\n            <input\r\n              v-model=\"email\"\r\n              type=\"email\"\r\n              class=\"w-full px-4 py-2 bg-[var(--card)] text-[var(--foreground)] rounded-lg border border-[var(--border)] focus:border-[var(--primary)] focus:outline-none\"\r\n              placeholder=\"you@example.com\"\r\n            />\r\n            <p v-if=\"errors.email\" class=\"text-red-500 text-sm mt-1\">\r\n              {{ errors.email }}\r\n            </p>\r\n          </div>\r\n\r\n          <div>\r\n            <label\r\n              class=\"block text-sm font-medium text-[var(--foreground)] mb-2\"\r\n              >Password</label\r\n            >\r\n            <input\r\n              v-model=\"password\"\r\n              type=\"password\"\r\n              class=\"w-full px-4 py-2 bg-[var(--card)] text-[var(--foreground)] rounded-lg border border-[var(--border)] focus:border-[var(--primary)] focus:outline-none\"\r\n              placeholder=\"••••••••\"\r\n            />\r\n            <p v-if=\"errors.password\" class=\"text-red-500 text-sm mt-1\">\r\n              {{ errors.password }}\r\n            </p>\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            :disabled=\"isLoading\"\r\n            class=\"w-full px-4 py-2 bg-[var(--primary)] text-[var(--primary-foreground)] rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50\"\r\n          >\r\n            {{ isLoading ? \"Signing in...\" : \"Sign In\" }}\r\n          </button>\r\n        </form>\r\n\r\n        <p class=\"text-center text-[var(--muted-foreground)] mt-6\">\r\n          Don't have an account?\r\n          <router-link\r\n            to=\"/signup\"\r\n            class=\"text-[var(--primary)] hover:underline\"\r\n            >Sign up</router-link\r\n          >\r\n        </p>\r\n      </div>\r\n    </div>\r\n\r\n    <AppFooter />\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"js\">\r\nimport { ref } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useToast } from '../composables/useToast'\r\nimport { useErrorHandler } from '../composables/useErrorHandler'\r\nimport { ERROR_MESSAGES } from '../utils/errorMessages'\r\nimport Footer from '../components/AppFooter.vue'\r\nimport AppFooter from '../components/AppFooter.vue'\r\n\r\nconst router = useRouter()\r\nconst { addToast } = useToast()\r\nconst { handleError } = useErrorHandler()\r\n\r\nconst email = ref('')\r\nconst password = ref('')\r\nconst isLoading = ref(false)\r\nconst errors = ref({ email: '', password: '' })\r\n\r\nconst validateForm = () => {\r\n  errors.value = { email: '', password: '' }\r\n  let isValid = true\r\n\r\n  if (!email.value) {\r\n    errors.value.email = ERROR_MESSAGES.FORM_EMPTY_EMAIL\r\n    isValid = false\r\n  } else if (!email.value.includes('@')) {\r\n    errors.value.email = ERROR_MESSAGES.FORM_INVALID_EMAIL\r\n    isValid = false\r\n  }\r\n\r\n  if (!password.value) {\r\n    errors.value.password = ERROR_MESSAGES.FORM_EMPTY_PASSWORD\r\n    isValid = false\r\n  }\r\n\r\n  return isValid\r\n}\r\n\r\nconst handleLogin = async () => {\r\n  if (!validateForm()) return\r\n\r\n  isLoading.value = true\r\n\r\n  try {\r\n    const users = JSON.parse(localStorage.getItem('users') || '[]')\r\n    const user = users.find((u) => u.email === email.value && u.password === password.value)\r\n\r\n    if (!user) {\r\n      throw new Error(ERROR_MESSAGES.AUTH_INVALID_CREDENTIALS)\r\n    }\r\n\r\n    const token = Date.now().toString()\r\n    localStorage.setItem('authToken', token)\r\n    localStorage.setItem('currentUser', JSON.stringify({ id: user.id, email: user.email }))\r\n\r\n    addToast('Login successful', 'success')\r\n    router.push('/dashboard')\r\n  } catch (error) {\r\n    handleError(error, { showToast: true })\r\n  } finally {\r\n    isLoading.value = false\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";;EAEIA,KAAK,EAAC;AAA4E;;EAE7EA,KAAK,EAAC;AAAoD;;EACxDA,KAAK,EAAC;AAAiB;;;EAoBCA,KAAK,EAAC;;;;EAgBHA,KAAK,EAAC;;;;EAcjCA,KAAK,EAAC;AAAiD;;;uBAtDhEC,mBAAA,CAkEM,OAlENC,UAkEM,GA/DJC,mBAAA,CA4DM,OA5DNC,UA4DM,GA3DJD,mBAAA,CA0DM,OA1DNE,UA0DM,G,0BAzDJF,mBAAA,CAKM;IALDH,KAAK,EAAC;EAAkB,IAC3BG,mBAAA,CAEK;IAFDH,KAAK,EAAC;EAA+C,GAAC,cAE1D,GACAG,mBAAA,CAAqE;IAAlEH,KAAK,EAAC;EAAgC,GAAC,yBAAuB,E,qBAGnEG,mBAAA,CAwCO;IAxCAG,QAAM,EAAAC,cAAA,CAAUC,MAAA,CAAAC,WAAW;IAAET,KAAK,EAAC;MACxCG,mBAAA,CAcM,c,0BAbJA,mBAAA,CAE8B;IAD5BH,KAAK,EAAC;EAAyD,GAC9D,OAAK,qB,gBAERG,mBAAA,CAKE;+DAJSK,MAAA,CAAAE,KAAK,GAAAC,MAAA;IACdC,IAAI,EAAC,OAAO;IACZZ,KAAK,EAAC,sJAAsJ;IAC5Ja,WAAW,EAAC;iDAHHL,MAAA,CAAAE,KAAK,E,GAKPF,MAAA,CAAAM,MAAM,CAACJ,KAAK,I,cAArBT,mBAAA,CAEI,KAFJc,UAEI,EAAAC,gBAAA,CADCR,MAAA,CAAAM,MAAM,CAACJ,KAAK,oB,qCAInBP,mBAAA,CAcM,c,0BAbJA,mBAAA,CAEiC;IAD/BH,KAAK,EAAC;EAAyD,GAC9D,UAAQ,qB,gBAEXG,mBAAA,CAKE;+DAJSK,MAAA,CAAAS,QAAQ,GAAAN,MAAA;IACjBC,IAAI,EAAC,UAAU;IACfZ,KAAK,EAAC,sJAAsJ;IAC5Ja,WAAW,EAAC;iDAHHL,MAAA,CAAAS,QAAQ,E,GAKVT,MAAA,CAAAM,MAAM,CAACG,QAAQ,I,cAAxBhB,mBAAA,CAEI,KAFJiB,UAEI,EAAAF,gBAAA,CADCR,MAAA,CAAAM,MAAM,CAACG,QAAQ,oB,qCAItBd,mBAAA,CAMS;IALPS,IAAI,EAAC,QAAQ;IACZO,QAAQ,EAAEX,MAAA,CAAAY,SAAS;IACpBpB,KAAK,EAAC;sBAEHQ,MAAA,CAAAY,SAAS,sDAAAC,UAAA,E,4BAIhBlB,mBAAA,CAOI,KAPJmB,UAOI,G,2CAPuD,0BAEzD,qBAAAC,YAAA,CAGoCC,sBAAA;IAFlCC,EAAE,EAAC,SAAS;IACZzB,KAAK,EAAC;;sBACL,MAAO,KAAA0B,MAAA,QAAAA,MAAA,O,iBAAP,SAAO,mB;;YAMhBH,YAAA,CAAaf,MAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}